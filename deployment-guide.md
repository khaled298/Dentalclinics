# دليل نشر نظام إدارة عيادة الأسنان

## المقدمة

هذا الدليل يشرح كيفية نشر نظام إدارة عيادة الأسنان على خدمات الاستضافة المختلفة. يمكنك اختيار إحدى الخدمات التالية حسب احتياجاتك:

1. **Vercel**: سهلة الاستخدام ومناسبة لتطبيقات Next.js
2. **Netlify**: توفر استضافة مجانية مع دعم للتطبيقات الحديثة
3. **Cloudflare Pages**: توفر استضافة مجانية مع دعم لقواعد البيانات D1

## متطلبات النشر

- حساب على إحدى خدمات الاستضافة المذكورة أعلاه
- Node.js (الإصدار 18 أو أحدث) مثبت على جهازك
- Git مثبت على جهازك (اختياري)

## خطوات النشر على Vercel

Vercel هي الخيار الأمثل لتطبيقات Next.js وتوفر تكاملًا سلسًا.

1. **إنشاء حساب على Vercel**:
   - قم بزيارة [vercel.com](https://vercel.com) وإنشاء حساب جديد

2. **تثبيت Vercel CLI**:
   ```bash
   npm install -g vercel
   ```

3. **تسجيل الدخول إلى Vercel**:
   ```bash
   vercel login
   ```

4. **نشر التطبيق**:
   - انتقل إلى مجلد التطبيق
   ```bash
   cd dental-clinic-system
   ```
   - قم بتنفيذ أمر النشر
   ```bash
   vercel
   ```
   - اتبع التعليمات على الشاشة لإكمال عملية النشر

5. **تكوين متغيرات البيئة**:
   - قم بإضافة متغيرات البيئة من ملف `.env.production` في لوحة تحكم Vercel

## خطوات النشر على Netlify

1. **إنشاء حساب على Netlify**:
   - قم بزيارة [netlify.com](https://netlify.com) وإنشاء حساب جديد

2. **تثبيت Netlify CLI**:
   ```bash
   npm install -g netlify-cli
   ```

3. **تسجيل الدخول إلى Netlify**:
   ```bash
   netlify login
   ```

4. **إعداد ملف تكوين Netlify**:
   - قم بإنشاء ملف `netlify.toml` في المجلد الرئيسي للتطبيق بالمحتوى التالي:
   ```toml
   [build]
     command = "npm run build"
     publish = ".next"
   
   [build.environment]
     NODE_VERSION = "18"
   
   [[plugins]]
     package = "@netlify/plugin-nextjs"
   ```

5. **نشر التطبيق**:
   ```bash
   netlify deploy --prod
   ```

6. **تكوين متغيرات البيئة**:
   - قم بإضافة متغيرات البيئة من ملف `.env.production` في لوحة تحكم Netlify

## خطوات النشر على Cloudflare Pages

1. **إنشاء حساب على Cloudflare**:
   - قم بزيارة [cloudflare.com](https://cloudflare.com) وإنشاء حساب جديد

2. **تثبيت Wrangler CLI**:
   ```bash
   npm install -g wrangler
   ```

3. **تسجيل الدخول إلى Cloudflare**:
   ```bash
   wrangler login
   ```

4. **إنشاء قاعدة بيانات D1**:
   ```bash
   wrangler d1 create dental_clinic_db
   ```
   - قم بتحديث معرف قاعدة البيانات في ملف `wrangler.toml`

5. **تطبيق ملفات الترحيل على قاعدة البيانات**:
   ```bash
   wrangler d1 execute dental_clinic_db --file=migrations/0001_initial.sql
   ```

6. **نشر التطبيق**:
   ```bash
   wrangler pages deploy .
   ```

## استخدام قاعدة بيانات بديلة

إذا كنت تواجه مشكلات مع قاعدة بيانات D1 من Cloudflare، يمكنك استخدام قاعدة بيانات بديلة:

1. **Supabase**: قاعدة بيانات PostgreSQL مستضافة مع واجهة برمجة تطبيقات REST
   - قم بزيارة [supabase.com](https://supabase.com) وإنشاء حساب جديد
   - قم بإنشاء مشروع جديد
   - استخدم ملف الترحيل SQL لإنشاء الجداول
   - قم بتحديث متغيرات البيئة لاستخدام Supabase

2. **PlanetScale**: قاعدة بيانات MySQL مستضافة قابلة للتوسع
   - قم بزيارة [planetscale.com](https://planetscale.com) وإنشاء حساب جديد
   - قم بإنشاء قاعدة بيانات جديدة
   - استخدم ملف الترحيل SQL لإنشاء الجداول (مع تعديلات بسيطة لتوافق MySQL)
   - قم بتحديث متغيرات البيئة لاستخدام PlanetScale

## استكشاف الأخطاء وإصلاحها

إذا واجهت مشكلات أثناء النشر، جرب الخطوات التالية:

1. **مشكلات البناء**:
   - تأكد من أن ملف `next.config.js` يحتوي على الإعدادات الصحيحة
   - تأكد من تثبيت جميع التبعيات: `npm install`
   - جرب بناء التطبيق محليًا: `npm run build`

2. **مشكلات قاعدة البيانات**:
   - تأكد من إنشاء قاعدة البيانات وتطبيق ملفات الترحيل
   - تحقق من متغيرات البيئة الخاصة بالاتصال بقاعدة البيانات

3. **مشكلات الاتصال**:
   - تأكد من تكوين CORS بشكل صحيح
   - تحقق من متغيرات البيئة الخاصة بعناوين URL للواجهات البرمجية

## الخلاصة

باتباع هذا الدليل، يمكنك نشر نظام إدارة عيادة الأسنان على خدمة الاستضافة التي تفضلها. إذا كنت بحاجة إلى مساعدة إضافية، يمكنك الرجوع إلى وثائق الخدمة المعنية أو التواصل مع فريق الدعم الخاص بها.
